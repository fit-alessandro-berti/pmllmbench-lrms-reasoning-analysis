[
  {
    "Name": "Pattern Recognition - PE",
    "Text": "We are given a DECLARE model and we need to identify anomalies generate hypotheses and propose verification approaches using SQL queries Lets first understand the intended process flow R A E P N C Now lets look at the DECLARE model 1 init This constraint says that the first event in every trace must be R Receive Claim 2 existence This constraint says that event C Close Claim must occur at least once in every trace 3 responded_existence This constraint says that if E Evaluate Claim occurs then A Assign Adjuster must occur either before or after E 4 precedence This constraint says that C Close Claim must be preceded by R Receive Claim 5 noncoexistence This constraint says that E Evaluate Claim and C Close Claim cannot both occur in the same trace"
  },
  {
    "Name": "Deductive Reasoning - PE",
    "Text": "So the main anomaly is the noncoexistence constraint between E and C According to the intended flow we must have both E and C and in fact E must come before C However the noncoexistence constraint says that E and C cannot coexist This is a contradiction"
  },
  {
    "Name": "Deductive Reasoning - PE",
    "Text": "Additionally note that the responded_existence constraint requires that if E occurs then A must occur But in the intended flow A must occur before E However the responded_existence constraint does not enforce the order only that both occur So its weaker than the intended order Also note that the precedence constraint only requires that R occurs before C but it doesnt require the other steps So its possible to have a trace that goes R C which skips all the steps in between This might be allowed by the model because there is no constraint that enforces the existence of A E P N"
  },
  {
    "Name": "Deductive Reasoning - PE",
    "Text": "However note that the existence constraint requires C and the init requires R and the precedence requires R before C So the minimal trace that satisfies these constraints is just R and C But wait the noncoexistence constraint says that E and C cannot coexist so if we have E then we cannot have C But the existence constraint requires C so if we have E then we cannot have C which would violate the existence constraint Therefore the model is contradictory because if E occurs then we cannot have C by noncoexistence but we must have C by existence Therefore the only way to satisfy both is to never have E But then the responded_existence constraint would be vacuously true So the model forces that E never occurs because if it does then we break either noncoexistence or existence But wait the intended flow requires E So this model is not consistent with the intended flow"
  },
  {
    "Name": "Inductive Reasoning - PE",
    "Text": "Lets summarize the anomalies 1 Noncoexistence between E and C This directly contradicts the intended flow which requires both E and C with E before C This constraint would force the process to avoid E if C is to occur but C is required by existence 2 Missing constraints for the full flow The model does not enforce the existence of A E P N Only R and C are required So the model allows skipping essential steps 3 Order of A and E The responded_existence constraint does not enforce that A must occur before E only that if E occurs then A occurs So it allows E to occur before A which might not be intended 4 Contradiction between existence of C and noncoexistence of E and C If E occurs then C cannot occur by noncoexistence but C must occur by existence Therefore the model implicitly forbids E"
  },
  {
    "Name": "Hypothesis Generation - PE",
    "Text": "Now lets generate hypotheses 1 Misinterpretation of business requirements The noncoexistence constraint might have been intended to mean that E and C cannot occur at the same time ie same event but in DECLARE noncoexistence means they cannot both occur in the same trace This could be a modeling error 2 Incremental changes in policies Perhaps there was a change in the process that made evaluation optional but the constraint was added without considering the requirement to close every claim 3 Technical issues or incomplete data The model might have been discovered from data that had anomalies such as claims that were closed without evaluation and the discovery algorithm incorrectly inferred a noncoexistence constraint 4 Pressure to handle claims quickly The model might have been designed to allow skipping evaluation to close claims faster but then the existence of C is still required However the noncoexistence constraint would then force the absence of E which might be an extreme version of skipping evaluation 5 Error in constraint specification The noncoexistence constraint might have been intended to be between two other activities but E and C were mistakenly chosen"
  },
  {
    "Name": "Abductive Reasoning - PE",
    "Text": "Now for verification approaches we can use SQL queries on the claims adjusters and claim_events tables to check if the anomalies occur in practice We are interested in the claim_events table We can check 1 Claims that were closed without any evaluation Look for claims that have a C event but no E event 2 Traces where evaluation and closing coexist Look for claims that have both an E event and a C event This should not happen according to the noncoexistence constraint but in the intended flow it should 3 If evaluation steps always correspond with assigned adjusters Check if for every E event there is an A event for the same claim Also check the order is A always before E 4 Check the minimal trace R C Look for claims that have only R and C events and no other events 5 Check the order of A and E For claims that have both A and E check if A always happens before E 6 Check the existence of required steps How many claims have the full intended flow R A E P N C in that order"
  },
  {
    "Name": "Validation - PE",
    "Text": "Lets write SQL queries for these 1 Claims that were closed without any evaluation SELECT c claim_id FROM claims c WHERE EXISTS SELECT 1 FROM claim_events ce WHERE ce claim_id c claim_id AND ce activity C AND NOT EXISTS SELECT 1 FROM claim_events ce WHERE ce claim_id c claim_id AND ce activity E 2 Traces where evaluation and closing coexist SELECT c claim_id FROM claims c WHERE EXISTS SELECT 1 FROM claim_events ce WHERE ce claim_id c claim_id AND ce activity E AND EXISTS SELECT 1 FROM claim_events ce WHERE ce claim_id c claim_id AND ce activity C 3 Check if for every evaluation there is an assignment A and that A occurs before E SELECT ce_e claim_id FROM claim_events ce_e WHERE ce_e activity E AND NOT EXISTS SELECT 1 FROM claim_events ce_a WHERE ce_a claim_id ce_e claim_id AND ce_a activity A AND ce_a timestamp lt ce_e timestamp This returns claims where an evaluation was done without a prior assignment 4 Check for claims that have only R and C SELECT c claim_id FROM claims c WHERE EXISTS SELECT 1 FROM claim_events ce WHERE ce claim_id c claim_id AND ce activity R AND EXISTS SELECT 1 FROM claim_events ce WHERE ce claim_id c claim_id AND ce activity C AND NOT EXISTS SELECT 1 FROM claim_events ce WHERE ce claim_id c claim_id AND ce activity NOT IN R C 5 Check the order of A and E SELECT ce_a claim_id FROM claim_events ce_a WHERE ce_a activity A AND EXISTS SELECT 1 FROM claim_events ce_e WHERE ce_e claim_id ce_a claim_id AND ce_e activity E AND ce_e timestamp lt ce_a timestamp This returns claims where A occurs after E 6 Check for claims that follow the full intended flow SELECT c claim_id MAX CASE WHEN ce activity R THEN ce timestamp END as R_time etc FROM claims c LEFT JOIN claim_events ce ON c claim_id ce claim_id WHERE ce activity IN R A E P N C GROUP BY c claim_id HAVING R_time IS NOT NULL AND A_time IS NOT NULL AND E_time IS NOT NULL AND P_time IS NOT NULL AND N_time IS NOT NULL AND C_time IS NOT NULL AND R_time lt A_time AND A_time lt E_time AND E_time lt P_time AND P_time lt N_time AND N_time lt C_time These queries can help verify if the anomalies in the DECLARE model are present in the actual data"
  },
  {
    "Name": "Conclusion - C"
  }
]